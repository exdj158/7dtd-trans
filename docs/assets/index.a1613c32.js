import{l as p,H as w}from"./vendor.af78e93b.js";const L=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}};L();function h(t){return t.replace(/"[^"]*"/g,i=>i.replace(/,/g,"{}")).split(",").map(i=>i.replace(/{}/g,","))}function v(t,n){if(!t){alert("\u4FDD\u5B58\u5931\u8D25\uFF0C\u6570\u636E\u4E3A\u7A7A\uFF01");return}n||(n="Localization.txt"),typeof t=="object"&&(t=JSON.stringify(t,void 0,4));let i=new Blob([t],{type:"text/json"}),r=document.createElement("a");r.download=n,r.href=window.URL.createObjectURL(i),r.dataset.downloadurl=["text/json",r.download,r.href].join(":");let e=new MouseEvent("click",{});r.dispatchEvent(e)}async function b(){const t=await p.exports.getItem("saves"),n=(t==null?void 0:t.dataList)||[];let i=(t==null?void 0:t.fileName)||"";const r=[],e=document.getElementById("uploadBtn"),o=document.getElementById("saveBtn"),s=document.getElementById("table");function a(){new w(s,{data:n,height:500,rowHeaders:!0,licenseKey:"non-commercial-and-evaluation",renderAllRows:!1,colHeaders:!0,contextMenu:["hidden_columns_show","hidden_columns_hide"],hiddenColumns:{indicators:!0},wordWrap:!0,colWidths:200,afterChange:function(c,l){l!=="loadData"&&p.exports.setItem("saves",{dataList:n,fileName:i})}})}n.length>0&&a(),e.addEventListener("change",function(c){const l=c.target.files[0];n.length=0,i=l.name;const d=new FileReader;d.readAsText(l),d.onload=function(){const f=this.result;let m=0;const g=f.split(`
`)[0],y=h(g).length;f.split(`
`).forEach(E=>{const u=h(E);u.length===y?n.push(u):(m+=1,r.push(u))}),a(),console.log(`\u89E3\u6790\u7ED3\u675F\uFF0C\u6709${m}\u6761\u8BB0\u5F55\u89E3\u6790\u5931\u8D25`,r)}}),o.addEventListener("click",function(){const c=n.map(l=>l.join(",")).join(`
`);v(c,i)})}b();
